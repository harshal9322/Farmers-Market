<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>header</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    nav {
      background-color: #fffffc;
      position: sticky;
      top: 0vw;
      left: 1.5vw;
      right: 1.5vw;
      height: 4.8vw;
      z-index: 999;
      border-bottom: 1px solid rgb(204, 195, 195);
      display: flex;
      align-items: center;
    }

    nav #logo {
      margin-left: 12vw;
      display: flex;
      align-items: center;
    }

    #logo img {
      height: 3vw;
      margin-right: 0.8vw;
    }

    #logo h1 {
      color: green;
    }

    nav #options {
      display: flex;
      align-items: center;
      gap: 2.7vw;
      left: 4vw;
      position: relative;
      justify-content: space-around;
    }

    .input-container {
      position: relative;
      width: 30vw;
    }

    .input-container button {
      left: 3%;
      top: 50%;
      transform: translateY(-50%);
      position: absolute;
      color: green;
      font-weight: 800;
      border: none;
      background-color: #ffffff;
    }

    #search {
      width: 100%;
      padding: 6px 8px 6px 37px;
      position: relative;
      border-radius: 5px;
      color: #3f4042;
      font-weight: 500;
      background-color: #ffffff;
      font-size: 0.9vw;
      border: 1px solid #bcbcbc;
      transition: border-color ease 0.2s;
    }

    .searchResult {
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      height: 100vh;
      margin-top: 1vw;
      background-color: #ffffff;
      border: 1px solid #bcbcbc;
      border-radius: 5px;
      max-height: 200px;
      overflow: auto;
      z-index: 999;
      display: block;
    }

    #search:focus {
      border-color: green;
      outline: none;
    }

    .cart {
      height: 3.7vw;
      width: 3.2vw;
      border-radius: 2.5px;
      background-color: #c5c7c9;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 0.3vw;
      transition: border ease 0.3s;
    }

    .cart .img-div {
      height: 2vw;
      width: 2vw;
      border-radius: 50%;
      padding: 0.3vw;
      border: 1px solid #3f4042;
      background-color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .counter {
      padding: 0.2vw 0.37vw;
      font-size: 0.7vw;
      border: 1px solid grey;
      border-radius: 50%;
      background-color: #c5c7c9;
      position: absolute;
      top: 8%;
      left: 95%;
      transform: translate(-50%, -50%);
      display: none;
      align-items: center;
      justify-content: center;
    }

    .img-div img {
      object-fit: contain;
      width: 100%;
    }

    .cart a {
      font-size: 0.8vw;
      font-weight: 500;
      text-decoration: none;
      color: black;
    }

    .profile {
      display: flex;
      flex-direction: column;
      margin-left: 8vw;
      gap: 2px;
      position: relative;
      cursor: pointer;
    }

    .profile-img {
      height: 2.7vw;
      width: 2.7vw;
      border-radius: 50%;
    }

    .profile-img img {
      width: 100%;
      border-radius: 50%;
      object-fit: contain;
      display: block;
      border: 1px solid rgb(142, 137, 137);
    }

    .profile h5 {
      color: black;
      font-weight: 500;
      letter-spacing: 0.5px;
    }

    .profile-info {
      position: absolute;
      top: 4.5vw;
      left: -1.9vw;
      gap: 0.5vw;
      background-color: #ffffff;
      border: 1px solid rgb(209, 208, 208);
      border-radius: 2px;
      box-shadow: 2px 2px 6px gray;
      height: 4vw;
      width: 9vw;
      white-space: nowrap;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .profile-info h5:hover {
      text-decoration: underline;
      cursor: pointer;
    }

    a {
      color: green;
      font-size: 0.94vw;
    }

    /* Responsive:mobiles */
    @media (max-width: 574px) {
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      html,
      body {
        height: 100%;
        width: 100%;
        background-color: #dee2e6;
        overflow: hidden;
      }

      nav {
        height: 11vw;
      }

      nav #logo {
        margin-left: 4vw;
        white-space: nowrap;
      }

      #logo img {
        height: 5.6vw;
      }

      #logo h1 {
        font-size: 3.5vw;
      }

      #options {}

      .input-container {
        width: 35vw;
        display: flex;
        position: relative;
        height: 4vw;
      }

      .input-container i {
        font-size: 2vw;
        margin-left: 0.6vw;
      }

      #search {
        font-size: 1.8vw;
        padding-left: 4.9vw;
        color: #3f4042;
      }

      .cart {
        height: 9vw;
        width: 7.8vw;
        display: flex;
        margin-left: 1.5vw;
        justify-content: space-around;
        align-items: center;
      }

      .cart .img-div {
        height: 4.2vw;
        width: 4.2vw;
        margin-top: 1vw;
        padding: 0.5vw;
      }

      .cart img {
        object-fit: contain;
      }

      .cart a {
        font-size: 1.7vw;
      }
    }
  </style>
</head>

<body>
  <nav>
    <div id="logo">
      <img
        src="data:image/png;base64,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"
        alt="icon" />
      <h1>FARMERS MARKET</h1>
    </div>

    <div id="options">
      <form action="/search" method="get">
        <div class="input-container">
          <input id="search" placeholder="search" name="fru" type="text" />
          <div id="searchResult"></div>
          <button type="submit"><i class="fas fa-search"></i></button>
        </div>
      </form>

      <div class="cart">
        <span class="counter"></span>
        <div class="img-div">
          <img src="/images/icons/shopping-basket.png" alt="basket-icon" />
        </div>

        <a href="/cart">Basket</a>
      </div>
    </div>
    <div class="profile">
      <div class="profile-img">
        <img src="/images/icons/profileIcon.jpg" alt="profile" />
      </div>
      <h5>Profile</h5>
      <div class="profile-info"></div>
    </div>
  </nav>

  <script>
    const profile = document.querySelector(".profile");
    const info = document.querySelector(".profile-info");
    profile.addEventListener("click", () => {
      info.style.display = "flex";
      info.innerHTML = `
            <h5>Orders HistoryðŸ“¦</h5>
            <a href="/user/logout">LogOut</a>
           `;
      setTimeout(() => {
        info.style.display = 'none';
      }, 5000);
    });

    const searchBox = document.getElementById("search");
    const searchResult = document.getElementById("searchResult");
    searchBox.addEventListener("input", async (e) => {
      const query = e.target.value.trim();
      if (!query) {
        searchResult.innerHTML = " ";
      }

      try {
        const res = await fetch(`/search?q=${query}`);
        const data = await res.json();
        console.log("recived data : ",data);
          searchResult.innerHTML = data.map(item=>`<p>${item.name}<P>`);
      
      }catch(err){
          console.log("can not fetch search",err);
      }
    })
  </script>
</body>

</html>